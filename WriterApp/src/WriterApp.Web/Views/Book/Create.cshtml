@model WriterApp.Web.ViewModel.BookCreateModel
@{
    ViewData["Title"] = "Create Page";
}
<h2>Create</h2>

<form asp-controller="Book" asp-action="Create" method="post">
    <div class="form-group">
        <input asp-for="Caption" placeholder="Caption" class="form-control" />
        <span asp-validation-for="Caption" class="text-danger"></span>
    </div>
    <div class="form-group">
        <input asp-for="PublishedDate" type="date" placeholder="Published date" class="form-control" />
        <span asp-validation-for="PublishedDate" class="text-danger"></span>
    </div>
    <div class="form-group">
        <select style="width:270px!important" data-placeholder="Choose a writers..." multiple class="chosen-select" asp-for="WriterIds"
                asp-items="@Model.Writers"></select>
        <span asp-validation-for="WriterIds" class="text-danger"></span>
    </div>
    <input type="submit" value="Submit" class="btn btn-default" />
</form>
@section scripts{
    <script>
        $(function () {            
            $(".chosen-select").chosen({ disable_search_threshold: 10 });
            $("input[type=submit]").click(function (e) {
                e.preventDefault();
                if ($('.search-choice').length)
                    $(this).closest('form').submit();
                else
                    $('.chosen-container').css('border', '1px solid red');
            });
        });
    </script>
}